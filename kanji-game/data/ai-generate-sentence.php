<?php

// Sample input for your vocabulary word
$word = '怖い'; // Replace with your word from the list

$words = "題名
目上
成分
毛糸
酌む
中世
雨戸
矢印
御中
目安
架空
詰まる
売行き
民謡
発つ
真っ暗
小学生
手入れ
文献
休業
軟らかい
呼び掛ける
意義
蒸し暑い
殖える
基準
先端
中性
比較的
書籍
芯
琴
お代わり
卸す
基盤
先々週
響く
真っ黒
水平
危うい
着々
記号
催促
平気
学級
制作
特売
休講
鉱物
山林
粒
速達
必需品
農薬
鳴らす
女の人
余計
大通り
改造
大小
妥当
整備
曲線
四季
蕎麦
機関車
留守番
美容
対照
学会
木材
従姉妹
論ずる
味わう
校庭
殻
碁
学年
仮定
大して
広さ
終了
三日月
飾り
塊
紙幣
蘇る
道順
盗難
講師
思いっ切り
助かる
生意気
堅い
折角
謙虚
憎らしい
太鼓
調味料
並木
耕す
海洋
定員
混合
採る
汚す
水滴
鉄砲
寮
書留
花嫁
錆
反省
新幹線
怠る
納める
乾電池
同格
南北
時間割
干す
人命
炒る
刷る
反る
転がす
小指
清い
蓄える
大層
実績
電柱
叔母さん
梯子
速力
扇ぐ
私鉄
青白い
測定
英和
面接
公正
熟語
地質
知合い
近付ける
綱
呑気
歌謡
畳む
点ける
濁る
公式
拝見
来日
交差
稀
追加
産地
恨む
初めに
逃がす
公衆
定期券
欄
中旬
地盤
免税
吹雪
人差指
障子
著す
括弧
行事
無地
肘
冷ます
集合
外れる
傑作
暖める
下車
醜い
剥く
文体
通ずる
和英
弱点
整数
吊る
跳ぶ
東洋
片道
溶く
矛盾
競馬
彫刻
憎む
線路
退く
交ぜる
持参
亡くす
貸し出し
続々
振り仮名
順々
夕日
頼もしい
注す
絵の具
強引
学部
応接
勝敗
原始
墨
住居
回数券
仲良し
高度
引算
高等
通路
焚く
統一
中味
受話器
姿勢
塞がる
敷地
造船
肯定
閉会
平仮名
潰れる
係わる
刺さる
意地悪
過程
南米
実力
先頭
当番
高級
慰める
掃く
習字
寸法
生き生き
巻く
下品
植木
方程式
改める
段階
別々
擦る
看板
灯台
潜る
一昨日
並行
俄
秤
只
補う
郡
再来年
王女
焦がす
迫る
侵入
生る
都心
発揮
一通り
独り言
卑怯
真っ先
副詞
針金
砕ける
催し
祝日
尖る
無数
利害
終点
透き通る
待ち合わせる
差し引き
賞金
乾燥
略す
子孫
見慣れる
満員
夜行
親指
幼稚園
特長
工事
湧く
引力
現に
垣根
苦情
効力
無限
浮ぶ
御無沙汰
緩い
税関
踏切
順序
地点
主役
誓う
手首
物語る
所々
鉄橋
先程
絶えず
蛇口
赤道
突き当たる
響き
治める
泊める
政党
嫌がる
直前
塵芥
実用
悔やむ
混ざる
四捨五入
固まる
磁石
周辺
原産
棄てる
熱する
問い合わせ
炊事
冠
碗
増やす
看病
個所
作る
造る
紫
縫う
紺
長引く
湿度
心得る
診る
箸
水素
髭
分量
香水
申し訳ない
陽射
祭日
容積
例える
甚だしい
桁
焦げる
命ずる
送料
感激
失恋
怪しい
拡充
性能
真っ青
押える
滑れる
合理
儀式
歯磨き
苦心
醤油
幾分
払い戻す
妨げる
田植え
等分
心当たり
臨時
向う
延ばす
心身
丼
各自
時速
点く
可決
葬式
統計
親類
瞳
田ぼ
捜す
執筆
遠足
日時
分数
教わる
漁師
欧米
大学院
知人
縛る
拝む
耕地
養分
昼寝
書道
会館
刺す
温室
言い付ける
名物
捕える
改めて
国籍
作者
省略
落し物
恐縮
儲ける
引受る
照らす
悠々
自習
刻む
自然科学
点数
素質
女房
死体
定休日
感ずる
射す
逆さ
実習
稽古
国王
改正
大分
滝
箒
指定
判子
占う
溶かす
又は
募集
渇く
構造
煙い
湯飲み
盆地
器械
採点
一昨年
焦点
探る
転がる
楽器
祭る
争う
代名詞
傾く
茂る
裁縫
濡らす
定価
取り入れる
牧畜
増大
杉
短所
全集
瓶詰
蝋燭
清掃
生年月日
片仮名
西暦
挟まる
承る
休養
内科
煮る
便所
断水
限度
四つ角
櫛
攻める
脱線
迷信
匂う
一定
引っ繰り返す
広める
勘違い
区切る
取り消す
割引
交じる
戸棚
灰色
物置
重量
灯油
錆びる
全般
水筒
人造
裂く
目次
消耗
上旬
一斉
貯蔵
重ねる
解放
静まる
観測
述語
出合い
列島
血圧
縮れる
役所
対策
就任
石鹸
因る
汁
直線
超す
乱暴
退院
不規則
包帯
預かる
車輪
用途
唇
散らかる
書取
人文科学
漸く
上級
上る
煙突
附属
取り出す
破れる
名作
栓
削る
随筆
出迎え
警備
遭う
清書
銘々
年度
余る
直角
水蒸気
投書
診断
下旬
感想
気圧
更ける
雑巾
欲張り
相違
暖まる
零点
打合せ
坊や
敷く
斬る
貝
釜
人通り
物騒
便箋
通訳
接近
口紅
初旬
艶
出来上がる
餅
修繕
要旨
崩す
両側
洒落
司会
項目
付合う
頂点
筆記
火口
庖丁
応ずる
狡い
広々
家主
校舎
挿す
下町
逸れる
長所
明け方
片付く
広場
過失
写る
払い込む
案外
電波
部首
民間
毛皮
隔てる
団地
お帰り
蚊
受験
卒直
大工
関西
残らず
解答
出勤
測量
下降
気を付ける
発売
縞
派手
区分
湿気
慶び
姓
近寄る
助教授
襖
膨らます
水産
通帳
停電
平日
何分
早口
点々
直流
突っ込む
見学
量る
大凡
煉瓦
防犯
回答
過剰
寿命
不運
埋める
足袋
消防署
後輩
材木
謙遜
真空
超える
間隔
腰掛ける
一流
見本
好き好き
不潔
紅葉
区域
相撲
坊っちゃん
通貨
溜める
方針
純情
特殊
お手伝いさん
追い越す
枚数
皮肉
積む
名刺
屑
自衛
坊さん
官庁
問答
一応
険しい
申請
家屋
憧れる
揉む
流行る
以後
配る
撒く
浮かべる
編む
銅
超過
調節
地帯
朗らか
有無
但し
絞る
遊園地
裏口
幼児
目覚し
方角
信ずる
小便
加速度
登場
近々
彫る
盆
目立つ
煎る
形式
麓
原料
名字
狙う
雑音
特定
映る
勝負
縮小
皮膚
将棋
送り仮名
物凄い
巡る
育児
盛る
満点
顕微鏡
手洗い
爪
円周
薬指
酸性
体制
再来月
単数
追い掛ける
通り掛かる
正方形
輸血
空っぽ
先々月
始めに
膨らむ
小数
整う
開通
引出す
展開
長方形
馴れる
有難い
工芸
割算
下線
領事
基礎
中指
商業
照る
真っ白
資料
関東
専制
仮名遣い
驚かす
囁く
蒸発
羽根
澄む
冷やす
身分
本来
嗅ぐ
宛名
交替
出迎える
形容詞
賞品
薬缶
抽象
虹
塩辛い
手帳
作製
風船
課程
日の入り
見送る
例外
却って
休息
温泉
斜め
引っ繰り返る
各々
涼む
外部
金魚
御免
各地
農村
生ずる
破片
瓦
接続
保健
清む
表紙
活躍
防止
流石
恋しい
主語
座敷
火傷
童話
通勤
引っ込む
謎謎
総理大臣
倣う
転々
算盤
学科
下駄
成立
地味
花火
月給
接する
基地
写生
拡張
見掛け
含める
番地
酔っ払い
出入口
受け持つ
直径
中身
売上
締め切る
堀
濃度
流域
複数
確率
南極
散らす
役人
実例
果して
力強い
真似る
火山
蒸気
恨み
半径
回り道
峠
平野
捩る
元々
散らかす
重たい
予備
社会科学
在る
相互
呼び出す
強化
職人
激増
役目
砕く
伯父さん
言い出す
上り
纏まる
明き
竹
凍える
能率
住まい
放る
作成
売買
公務
連合
椀
一旦
刺身
外科
着ける
引き止める
蒔く
気体
行列
古典
重体
仮名
請う
為す
伝記
好き嫌い
部品
這う
伯母さん
実物
遡る
引っ掛かる
寝間着
張り切る
床屋
散る
針路
青少年
公共
宣伝
生け花
飢饉
蒸す
溜息
推定
厚かましい
体操
胡椒
割と
消毒
冷凍
国立
本部
揃う
別荘
中間
出掛ける
酒場
海水浴
電力
通用
父母
功績
釣り合う
四角
目印
粗い
座布団
羨む
夜間
応用
調整
標準
創作
開放
日当たり
公表
寝巻
夕立
井戸
研修
削除
浴衣
生える
恩恵
消化
分る
群れ
薬局
羊毛
在学
血液
御覧
繋がる
白髪
要領
発電
氏名
凸凹
幼稚
正面
月日
載せる
気配
甘やかす
羨ましい
天皇
県庁
初級
課税
風呂敷
儲かる
起床
飢える
冷める
移転
厳重
帰す
増減
測る
街角
引分け
兵隊
吐き気
集金
塞ぐ
分かれる
隙間
掻く
見付かる
漁業
素直
領収
回転
一休み
敬う
騒がしい
先祖
引越し
地名
電球
破く
務める
退ける
船便
見舞う
継続
属する
重力
早速
脂
児童
応援
空中
屋外
中途
深夜
見下ろす
糊
お出掛け
透明
合同
憎い
発射
分解
観念
素人
全身
肌着
角度
炊く
詫びる
適確
懐かしい
図形
芸能
長男
安易
膨大
溶ける
娯楽
伝染
存ずる
足る
茶碗
複写
兼ねる
担ぐ
見付ける
油断
惜しい
編集
高層
寒帯
反映
工員
燃やす
跳ねる
手拭い
溜まる
規準
日課
繋がり
衣食住
寝台
水曜
原理
揃える
窓口
符号
体積
片寄る
輸送
受取
出来上がり
捻る
回数
経度
定規
鐘
下水
売り切れる
挙げる
緯度
曲げる
月末
期限
撫でる
蛍光灯
狙い
偶数
園芸
体系
上下
重点
映す
交流
電流
重役
日用品
手前
寺院
酢
災難
活字
放れる
潰す
面倒臭い
友好
教養
夫妻
停止
高める
当日
献立
客席
偉い
包装
重なる
形容動詞
録音
出入り
方言
空想
店屋
一段と
末っ子
建つ
口実
話合い
噴水
振舞う
枕
漢和
法則
工夫
倉庫
仲直り
缶詰
瀬戸物
解説
編物
縮める
公害
若々しい
御手洗
実感
前後
代える
無沙汰
寄せる
純粋
咥える
標識
消極的
落第
活力
短編
間接
原稿
次ぐ
用語
立ち止まる
飛び込む
努める
商社
神話
過半数
牧場
名詞
平凡
草履
往復
剃刀
開会
損得
荒い
広げる
至急
始終
具える
光線
円い
貸間
容器
恵まれる
鑑賞
四角い
剥す
郵送
分類
炭鉱
書店
捕る
直通
集会
乾かす
混じる
系統
組み立てる
差し支え
改札
仕上がる
入社
突く
物差し
生存
敬語
乗車
液体
孝行
薬品
車庫
鉢
演劇
治す
拭く
噴火
毎度
着せる
地下水
薄暗い
循環
扇風機
標本
北極
伝わる
暴れる
通知
茶色い
長短
文房具
延長
凹む
方面
汲む
目指す
お参り
五十音
延びる
分布
存じる
代る
望遠鏡
特色
締切
図鑑
固い
見直す
索引
揚げる
学力
鈴
挟む
食塩
言付ける
何々
筆者
応対
打ち消す
万歳
歯車
剃る
御馳走
悔しい
乗換
余所
換気
交通機関
小遣い
匙
吊す
深まる
話中
逆様
夕刊
売店
見出し
御辞儀
下る
湯気
直後
為替
斜
食器
留まる
頭脳
文脈
蓋
低下
待合室
給与
日の出
殖やす
境界
崩れる
送別
縮む
落着く
薄める
目下
中年
加熱
撮影
載る
手続き
溶け込む
学術
佚
出張
評論
名所
以降
祖先
飽くまで
摩擦
勇ましい
強気
断定
大木
日程
枯れる
社説
宴会
混ぜる
三角
性質
間も無く
思い込む
淡水
巡査
突き当たり
掘る
句読点
果実
垂直
被せる
長女
動作
浮く
英文
溶岩
掏摸
圧縮
乾杯
永い
半島
床の間
車掌
有料
日帰り
睨む
不通
東西
背負う
正門
岬
面積
騒々しい
扇子
再三
快晴
叔父さん
売り切れ
姪
水平線
概論
塵紙
言葉遣い
加速
蹴る
話し掛ける
着替え
洗剤
下書き
和服
短期
貨物
討つ
交ざる
温帯
農産物
私立
商店
合流
客間
運河
俳句
神様
判事
訳す
森林
内線
組合せ
停車
洋品店
覗く
格別
文芸
日日
個体
引返す
正味
思い付く
日陰
付近
電池
再来週
纏める
水分
解散
威張る
湿る
武士
入れ物
鈍い
発想
釘
楕円
生長
掛け算
裏返す
普及
紙屑
規律
実る
貸家
自治
器具
浸ける
慶ぶ
図表
性別
傾らか
腰掛け
小父さん
足跡
算数
繋げる
手頃
役者
製作
理科
未満
思い掛けない
煮える
的確";


$words = explode("\n", $words);

//var_dump($words);
//die;

$start = 0;

for ($i=$start; $i<sizeof($words); $i++) {

	$word = $words[$i];
	echo "Processing $word\n";

	do_query($word);

  //die;


}


function do_query($word) {
	// Your xAI API key
	$apiKey = '';

	// The endpoint for the grok-2-latest model (assuming it's similar to other xAI API structures)
	$apiUrl = 'https://api.x.ai/v1/chat/completions';

	$inputText = "Generate a sentence in Japanese using the word '{$word}' appropriate for a Japanese student at the level of learning this word. Within the sentence, wrap the target word between two `・` symbols. After the sentence, add a | symbol. Next, add the series of the furigana corresponding to each kanji in the sentence separated by commas. For example, if the sentence was 食べに行く then the series would be 'た、い' only in hiragana. After the sequence, add a | symbol. Finally, include the English translation of the sentence, wrapping the equivalent english target word between two slash `/` symbols..";

	

	// Prepare the data
	$data = [
			"model" => "grok-2-latest", // Make sure this is the correct model identifier
			"messages" => [
					[
							"role" => "user",
							"content" => $inputText
					]
			]
	];

	// Initialize cURL
	$ch = curl_init($apiUrl);

	// Set various cURL options
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
	curl_setopt($ch, CURLOPT_POST, 1);
	curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
	curl_setopt($ch, CURLOPT_HTTPHEADER, [
			'Content-Type: application/json',
			'Authorization: Bearer ' . $apiKey
	]);

	// Execute the request
	$response = curl_exec($ch);

	// Check if any error occurred
	if(curl_errno($ch)){
			echo 'Curl error: ' . curl_error($ch);
	}

	// Close cURL resource to free up system resources
	curl_close($ch);

	// Process the response
	$responseData = json_decode($response, true);
	if(isset($responseData['choices'][0]['message']['content'])) {
			echo "Generated Sentence: \n" . $responseData['choices'][0]['message']['content'] . "\n";
	} else {
			echo "Failed to generate sentence or API response format unexpected.";
	}

	sleep(2);

}
